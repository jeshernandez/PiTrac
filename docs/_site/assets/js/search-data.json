{"0": {
    "doc": "3D Print",
    "title": "3D Print",
    "content": "3D Parent page.. ",
    "url": "/3dprint/3dprint.html",
    
    "relUrl": "/3dprint/3dprint.html"
  },"1": {
    "doc": "3d Print Base Layer Pi Side Floor",
    "title": "3d Print Base Layer Pi Side Floor",
    "content": "3D Pi Side Floor.. search keyword 123 . ",
    "url": "/3dprint/3dprint_base_layer_piside_floor.html",
    
    "relUrl": "/3dprint/3dprint_base_layer_piside_floor.html"
  },"2": {
    "doc": "Calibration",
    "title": "Camera Calibration",
    "content": "(the below pictures feature PiTrac in its early incarnation using 2x4s for its enclosure) . | | . Overview . | The PiTrac system needs to know the angles of the cameras and the relative distances between them in order to locate the ball in space. Camera calibration helps establish these values. | During this calibration, various distances are measured from each camera to a test point in front of the camera. Those values are used, along with this spreadsheet (which computes additional, derived values) to determine a set of calibration values. Those values are then given to the PiTrac monitor by entering them in the golf_sim_config.json configuration file, which PiTrac reads when it starts up. | The basic idea is to center a known point in 3D space in the camera lens and then measure the distances to that point. That in turn determines the camera’s angles. This process also establishes the effective focal distance of the camera, which in turn is used to establish the distance of the ball from the cameras. | After the marker points are used to aim the cameras, an actual golf-ball is used to calibrate focus and focal length. | It’s best to calibrate the cameras in the environment in which you expect to use the LM. | As part of the calibration process, the fish-eye-like distortions that are caused by most lenses need to be accounted for. These distortions are particularly evident around the edges of an image. Multiple images of a hand-held checker-board pattern are used to determine a couple of matrices that are used by the PiTrac to essentially “undistort” the images taken by the cameras. | The distances in this guide are in meters unless otherwise specified. | Note that “calibration” as used in this document is a broader process than just the intrinsic/extrinsic calibration that sets up matrices to perform de-distortion on cameras (although undistortion is a part of it). | . ",
    "url": "/camera/camera_calibration.html#camera-calibration",
    
    "relUrl": "/camera/camera_calibration.html#camera-calibration"
  },"3": {
    "doc": "Calibration",
    "title": "Calibration",
    "content": " ",
    "url": "/camera/camera_calibration.html",
    
    "relUrl": "/camera/camera_calibration.html"
  },"4": {
    "doc": "Flight Camera (bottom)",
    "title": "Flight Camera",
    "content": ". | Note Flight Camera (bottom camera) closely follows the Tee Camera (Top Camera) calibration | Lens Un-Distortion | Measuring Distances and Angles . | Remove the visible-light cut (long pass) filter from the front of the camera for now. It’s easier to calibrate the camera in the visible light spectrum. | Ensure that the triggering for the camera is not in external mode (where it usually will be when the Flight camera system is running). | If necessary, do: sudo /CameraTools/setCameraTriggerInternal.sh | . | Set up a marker point (such as a cross hairs) on a piece of paper attached to an object or stand so that the point is about 15 cm above the ground and roughly centered in the view of the camera with the camera at a slight upward tilt and facing straight out. The point should be a shape that will be crisp, sharp, and useful for focusing the camera. | Follow the instructions for Tee Camera (read that first), below, but use the following modifications when recording the various measurements: | | Flight Camera Measurements (values are typical/exemplary) | -X (the negative value of X) is the distance to the left (looking at the monitor) from the point on the floor directly under the center of Flight camera (facing the LM as a right-handed golfer) to the marker dot. It’s usually 0 because the point will be centered (horizontally) in the camera’s view. Because this is relative to the OTHER camera, X will usually effectively be ~-3 or –4 centimeters away from the other camera because the Tee camera is offset because it is twisted. | This will be made up later when we set the \"kCamera2OffsetFromCamera1OriginMeters\" parameter: [ **0.03**, -0.19, 0.0 ], | X = 0.0 (typical) | . | Y is the distance from the center of the Flight camera lens to the level of the hitting mat (for Tee camera) . | Y = .109 (typical) | . | Z is the distance straight out horizontally-level from the front of the lens to the vertical plane of the marker. This measurement is not “as the crow flies” in a straight line from the lens to the marker point. See pictures. The front of the camera lens is ~1cm back from the bottom of the base, which may be helpful if you are measuring from the bottom of the base. | Z = .55 (typical) | . | E1 is the elevation from the floor or mat to the marker point in the air. Somewhat above the Y value. | E1 = 0.16 | . | E2 is the elevation from Flight camera to the marker point in the air. E2 will be entered into the PiTrac JSON configuration file as the 2nd parameter for e.g., \"kCamera2PositionsFromOriginMeters\": [ 0.0, **-0.051,** 0.46 ] . | E2 = E1 - Y = 0.051. | This will help calculate the YDeg angle. However, because of measurement inaccuracy, it may still be necessary to manually adjust that angle. [TBD] | . | H is the distance from the camera lens directly (as the crow flies) to the marker point. | H = .56 | . | In the Calibration Spreadsheet, X_Degrees will normally be 0 (camera facing straight out). Conversely, Y_Degrees = ATAN(E-Y) and will usually be around 5 degrees (camera tilted slightly upward in order to catch fast-rising balls) (5.3 degrees for the above example values) | Otherwise, this process same as for Tee camera, but due to the (typical) either horizontal or up-facing camera, will have to create a marker-aiming spot in mid-air by drawing on a box or something that can be propped up in front of the Flight camera | Enter the following data into the JSON file: . | \"calibration.kCamera2CalibrationDistanceToBall\": &lt;Z&gt; (e.g., 0.55) | \"cameras.kCamera2PositionsFromOriginMeters\": [&lt;X&gt;, -&lt;E2&gt;, &lt;Z&gt; ] | \"kCamera2Angles\": [ &lt;XDeg&gt;, &lt;YDeg, e.g. 6.3 degrees&gt; ], (from spreadsheet) | . | . | . ",
    "url": "/camera/camera_calibration_flight_camera.html#flight-camera",
    
    "relUrl": "/camera/camera_calibration_flight_camera.html#flight-camera"
  },"5": {
    "doc": "Flight Camera (bottom)",
    "title": "Flight Camera (bottom)",
    "content": " ",
    "url": "/camera/camera_calibration_flight_camera.html",
    
    "relUrl": "/camera/camera_calibration_flight_camera.html"
  },"6": {
    "doc": "Calibrate Focal Point Length",
    "title": "Calibrate Camera Focal Length",
    "content": ". | Calibration requires that the LM be turned on. When you do so, first check to make sure that the LED strobe is not on. You can tell if it is on because the LEDs will glow a dull red (even for IR LEDs, there’s a little light on the high-frequency end of the visible spectrum). | Next we will calibrate the focal length of the Flight camera by using the known diameter of a golf ball and the diameter of the ball as seen by the camera in terms of pixels. | Use the “Determine the camera’s focal length” process for Tee camera, below | . | Run runCam2BallCalibration.sh script and take the resulting average focal length. Make sure the ball is well lit with a good contrasting color behind it (use the preview function if necessary) . | Certain types of black felt also show up black behind the ball and create great contrast. | If you get errors, such as “Attempted to draw mask area outside image”, check to ensure the golf ball is in the middle of the camera image. | Check for the images in the logging.kLinuxBaseImageLoggingDir directory. Can also try --logging_level=trace instead of info in the script. | After the final average value has been computed, you may have to hit Ctrl-C to stop the program | Also, the Calibrated focal length measurement that is output by the program should remain pretty close to the same number from measurement to measurement. So, for example (ignore the “mm”), | [2024-12-05 15:50:42.048685] (0x0000007fb6135040) [info] Calibrated focal length for distance 0.550000 and Radius: 67.788940 is 6.094049mm. | [2024-12-05 15:50:42.048996] (0x0000007fb6135040) [info] Focal Length = 6.094049. | [2024-12-05 15:50:43.441564] (0x0000007fb6135040) [info] Calibrated focal length for distance 0.550000 and Radius: 67.803833 is 6.095388mm | If the value is varying largely, the lighting may not be sufficient. | . | Enter this value into the JSON file, e.g., \"kCamera2FocalLength\": 6.155454 (or whatever the value is). | . ",
    "url": "/camera/camera_calibration_flight_camera_CCFL.html#calibrate-camera-focal-length",
    
    "relUrl": "/camera/camera_calibration_flight_camera_CCFL.html#calibrate-camera-focal-length"
  },"7": {
    "doc": "Calibrate Focal Point Length",
    "title": "Calibrate Focal Point Length",
    "content": " ",
    "url": "/camera/camera_calibration_flight_camera_CCFL.html",
    
    "relUrl": "/camera/camera_calibration_flight_camera_CCFL.html"
  },"8": {
    "doc": "Camera Calibration Confirmation",
    "title": "Camera Calibration Confirmation",
    "content": ". | Keep the ball in the spot it was in when the focal length was calibrated for now, as the location is known. We want to ensure the system is ‘finding’ the ball at that location. | Run “runCam2BallLocation.sh” script on the Pi connected to the camera being calibrated to make sure the angles and distances and processing are correct . | Generally, the IR filter should be removed if the ball does not have good contrast with the background. | The ball-search location should work in the center: --search_center_x 723 --search_center_y 544. If the script doesn’t return values, check the log_view_final_search_image_for_Hough.png file. | Remember, that the distances will be approximately to the center of the ball FROM THE CAMERA, so will be a little shorter than the distance to the LM in the X direction. | Check to make sure that the X, Y, and Z values (in meters) are correct. | Also, the “Radius” measurement that is output by the program should remain pretty close to the same number from measurement to measurement. So, for example, | [2024-12-05 15:43:57.884875] (0x0000007f8ea3d040) [info] Found Ball - (X, Y, Z) (in cm): 0.013771, 0.060536, 0.552454. Radius: 67.741455 | [2024-12-05 15:44:00.758463] (0x0000007f8ea3d040) [info] Found Ball - (X, Y, Z) (in cm): 0.013772, 0.060538, 0.552480. Radius: 67.738266 | [2024-12-05 15:44:03.616166] (0x0000007f8ea3d040) [info] Found Ball - (X, Y, Z) (in cm): 0.013772, 0.060539, 0.552489. Radius: 67.737129 | . | To ensure everything is working correctly, trying moving the ball 10cm up and/or left or right and/or closer or further from the camera and then ensure that the runCam2BallLocation program responds with correct position information. Accuracy should be at least within a centimeter for most measurements. | . ",
    "url": "/camera/camera_calibration_flight_camera_calibration.html",
    
    "relUrl": "/camera/camera_calibration_flight_camera_calibration.html"
  },"9": {
    "doc": "Initial Setup",
    "title": "Camera Initial Setup",
    "content": ". | Use a lens-cleaning cloth and appropriate cleaning liquid to make sure the lens are spotless. | If possible, make sure the Pi computers are hard-wired into the network and the network switch (if any) is turned on. | Before doing anything, log into the system remotely and perform a sanity check to make sure the camera is up and running correctly. For example, take a picture using: . | PiTracCameraTools/lcGS.sh test.jpg // TODO missing | So long as a picture is taken, things are probably operating correctly. | . | Attach a keyboard, mouse and monitor to whatever Pi Camera is being calibrated using the front and side Pi Access ports on the monitor’s walls. | If your Pi is set up to display a terminal clearly on a different computer (such as using VNC viewer), you may be able to avoid this connection. | . | If the monitor does not come up with an image after the mouse is wriggled, it may be that the system was booted at a time that the monitor was not present. In that case, reboot. | Place a small piece of transparent tape onto your monitor screen, with a dot on it so that the dot is positioned to be at the exact center of the screen. This dot will be referred to as the “marker dot”, and its role is simply to indicate where the center of the image is. If this dot is at the same point as some feature that the camera sees, that feature is in the center of the camera’s view. Some people will use a remote terminal program like VNC Viewer instead of connecting a monitor directly to the Pi. In this case, just make sure that you monitor aspect ratio and any window borders will not skew the true center calibration spot. | Loosen the thumb screws on the lenses (if necessary) and rotate the lens to the full-open aperture position. For the 6mm lens in the parts list, the aperture screw is the one furthest from the camera. Tighten the aperture screw back down and loosen the focus screw. | . ",
    "url": "/camera/camera_calibration_initial_setup.html#camera-initial-setup",
    
    "relUrl": "/camera/camera_calibration_initial_setup.html#camera-initial-setup"
  },"10": {
    "doc": "Initial Setup",
    "title": "Initial Setup",
    "content": " ",
    "url": "/camera/camera_calibration_initial_setup.html",
    
    "relUrl": "/camera/camera_calibration_initial_setup.html"
  },"11": {
    "doc": "Tee Camera (top)",
    "title": "Tee Camera (Top Camera)",
    "content": "Tee camera distances and angles (also referenced by and relevant for Flight camera process) . | Only for Tee camera, plug in the exterior LED strip at the bottom of the launch monitor. For these calibration steps, the more light the better. | Start the previewGS.sh script (which runs libcamera.hello) for Tee camera, or previewGS_noir.sh script for Flight camera. This will allow you to see the marker in real time as the camera is positioned and focused. | Pick an appropriate nominal tee-up spot to use as the calibration marker point for flight camera. The exact placement is not important, but positioning the ball near where it will be teed should help make the calibration more accurate. | Typical is 60cm to the right and around 50-60cm in front of the LM (looking at the LM from where the player would stand, looking down into its cameras). Other distances can work as well, but the balance is between being close enough to get a good view of the ball, and far enough that the field of view is sufficiently broad to capture enough (at least 4) image imprints as the strobe light fires. | . | Use a tape measure to accurately determine the position from the front-center of the LM to the point where the ball will be expected to be teed up as follows: . | Note - The ball will likely be right in front of Flight camera (and a 10-20cm in the air), but for Tee camera, it will be a couple feet to the right and on the ground. | Further back (to the right of the LM for right-handed golfers) gives more time for the LM to “see” a fast ball in the Flight camera before it goes too far. The LM should be able to operate regardless of exactly where the marker point is, but a point close to the typical tee-off makes the calibration in that area more accurate. | Place a marker (e.g., a sticky-note with a 3mm dot or crosshair) at the point on the ground where the nominal tee point will be. If you are calibrating on a hitting mat. A short bit of wire insulation pushed into the hitting mat works well, too. The point just has to be well enough marked to be able to see it in the center of the preview screen. | Tee camera Example Setup: . | . | . | Loosen and then move the camera mount until the preview screen on the monitor shows the marker dot directly behind the taped-on dot on the monitor. The idea is to center the marker in the camera view so that the camera is known to be aimed directly at the spot. Continue to keep the point centered as you tighten the gimbal screws (a small 90-degree M4 hex wrench makes this easier). | NOTE - Sometimes the mount is sticky and only wants to point to a particular point near, but not at the marker. In that case, let the camera do what it wants to do, and just re-measure where the point is (it might be a few millimeters one way or the other), and then use those measurements, below. | When tightening the base of the Pi for Tee camera (top floor), you may have to loosen and move the strobe light that is immediately below the camera to get room to use a needle-nose pliers to tighten the bold. | . | Measure the following distances from the camera being calibrated to the marker. NOTE these values have slightly different definitions for Flight camera. Reference that process elsewhere in this document when calibrating that camera. | Refer to the following diagram regarding the necessary calibration measurements for Tee camera: | | X is distance to the right of the LM (facing the LM as a right-handed golfer) to the marker point . | X = .60 (typical) (distances here are in meters) | For Flight camera, the X should reflect the effective X-axis difference between the two cameras (because Tee camera is twisted to one side from center). So, even if the Flight camera is centered, it’s X is likely to be 3 or 4 cm. | The “Origin” referenced in the .json file (e.g., kCamera1PositionsFromOriginMeters is technically arbitrary, but this system considers it as the point on the floor directly below where the Tee camera (or Flight camera) is focused. | . | Y is the distance from the middle of the Tee camera lens to the level of the hitting mat (for Tee camera) or the aiming point (for Flight camera). | Y = .275 (typical) | . | Z is the distance straight out from the front of the LM unit to the plane of the marker . | Z = .56 | . | R is the distance from the point on the floor directly below the front center of the camera lens to the marker point on the floor (see diagram above). This is one side of a triangle, with the other two sides being the line from the camera to the point on the floor, and the third side as “H”, below. | R = .83 | NOTE - because of the tilt angle of Tee camera, the point on the floor will technically be hidden below the base of the LM. Usually, we just measure from the edge of the base and add the additional couple of centimeters to make up for the offset. For the same reason, the X distance on the floor for that camera will be a few centimeters less than the same point would be for Flight camera | . | H is the distance from the camera lens direct (as the crow flies) to the marker point . | H = .87 | . | Set the X, Y and Z values in the configuration .JSON file: (below values are typical) . | (in “cameras” section) \"kCamera1PositionsFromOriginMeters\": [ &lt;X&gt;, &lt;Y&gt;, &lt;Z&gt; ] for example, [0.60, 0.275, 0.56 ], (x,y and z in cm), and | \"kCamera1Angles\": [ &lt;XDeg&gt;, &lt;YDeg&gt; ], for example, [46.97, -17.44] (from spreadsheet) | . | . | . ",
    "url": "/camera/camera_calibration_tee_camera.html#tee-camera-top-camera",
    
    "relUrl": "/camera/camera_calibration_tee_camera.html#tee-camera-top-camera"
  },"12": {
    "doc": "Tee Camera (top)",
    "title": "Tee Camera (top)",
    "content": " ",
    "url": "/camera/camera_calibration_tee_camera.html",
    
    "relUrl": "/camera/camera_calibration_tee_camera.html"
  },"13": {
    "doc": "Determine the cameras focal length",
    "title": "Determine the camera’s focal length",
    "content": ". | Place a ball on or at the marker. | For Tee camera, the ball will be immediately above the marker. | For Flight camera, create a support that will hold the ball so that its center in space is where the marker point existed in space before it was replaced by an actual ball. Put the | Example setups: Flight camera: | | Tee camera: | | . | Ensure that the area around the ball has good contrast. For example, put down some black felt around the ball or use a white ball on a green hitting mat. | For Tee camera, turn the LED strip on the LM base on to make sure there’s sufficient light for good exposures. | Re-Measure H to ensure it’s correct - it is the distance on a line straight out from the camera lens to the ball center (at or near where the marker point was) | Set the H distance into the appropriate parameter in the “calibration” section of the golf_sim_config.json file: . | For Tee camera, \"kCamera1CalibrationDistanceToBall\". ~87cm is typical | For Flight camera, \"kCamera2CalibrationDistanceToBall\". ~55cm is typical | . | For Flight camera, install the light filter and holder on the lens. | Focus the lens as well as possible and lock in the focus by tightening the thumb screw closest to the camera (the other screw should already have been tightened). Using the brand-marking or number printed on the ball can help this process. This will establish the focal distance in the next step. | IF NOT ALREADY DONE AT LEAST ONCE, PERFORM CAMERA LENS UNDISTORTION PROCESS (other section) | Ensure the ball is well-lit, especially near its bottom. | For Flight camera, getting as much sunlight in as possible can help provide sufficient IR to see well, or an incandescent light can also help. | . | Run the “runCam1Calibration.sh” or “runCam2Calibration.sh” script to get the focal length. | It will take multiple measurements and average them. This will take a minute or so. | . | Set the resulting focal length into the .JSON file. | E.g., \"kCamera1FocalLength\": 5.216 would be typical | . | Determine the x &amp; y (pan and tilt) camera1 angles for the configuration .JSON file | [See https://docs.google.com/spreadsheets/d/1igc2V7oq-hGpFP5AKGjyzc2osLVpYHp969iPyHGttJ8/edit#gid=423758471 for automatic calculations] | X/pan is positive as the camera twists to face back to where the ball is teed (as the camera goes counter-clockwise viewed from above the LM). | Y/tilt is negative as the camera starts to face down. | The angles are measured from the bore of the camera if it were facing straight out at no angle and level with the ground | XDeg = 90 - atan(Z/X) YDeg = -(90 - asin(R/H)) OR, for camera2, YDeg = ATan(Y/R), e.g, atan(4.5/40) = 6.42. | For example, for Tee camera: . | XDeg = 56.31 , YDeg = -24.46 | . | For example, for Flight camera: . | X = -0.03 Y = 0.13 Z = 0.40 H = 0.42 R = | . | . | Set the values in the configuration .JSON file: . | (in “cameras” section) \"kCamera1Angles\": [ 54.7, -22.2 ], (x,y or pan, tilt) | . | Place a ball ball near the mark on the tee-up spot so that there is a straight line from the camera to the mark that runs through the center of the ball (thus the ball will be slightly in front of the marker) | Measure the distances to the center of the ball | In the JSON file, set calibration.kCamera1CalibrationDistanceToBall to the distance to the ball in meters, e.g,. 0.81 | Run “runCam1BallLocation.sh” script to make sure the angles and distances and processing are correct | The ball-search location should work in the center: --search_center_x 723 --search_center_y 544. If the script doesn’t return values, check the log_view_final_search_image_for_Hough.png file. | Remember, that the distances will be approximately to the center of the ball FROM THE CAMERA, so will be a little shorter than the distance to the LM in the X direction. | . ",
    "url": "/camera/camera_calibration_tee_camera_focal.html#determine-the-cameras-focal-length",
    
    "relUrl": "/camera/camera_calibration_tee_camera_focal.html#determine-the-cameras-focal-length"
  },"14": {
    "doc": "Determine the cameras focal length",
    "title": "Determine the cameras focal length",
    "content": " ",
    "url": "/camera/camera_calibration_tee_camera_focal.html",
    
    "relUrl": "/camera/camera_calibration_tee_camera_focal.html"
  },"15": {
    "doc": "Camera Lens Undistortion Process",
    "title": "Camera Lens “Undistortion” Process",
    "content": "A camera lens undistortion process involves first calibrating the camera to determine the lens distortion parameters (like radial and tangential distortion coefficients), then using those parameters to mathematically map the distorted pixels in an image to their correct positions, creating an undistorted output image; this typically requires capturing images of a known pattern (like a checkerboard) to accurately calculate the distortion parameters. Camera Calibration and Geometry. Basics of camera geometry and how it can be used to calibrate cameras. | Here is another video performing a camera calibration in OpenCV using python in VS Code: | . | The undistortion code and scripts are under the CalibrateCameraDistortions folder. The scripts rely upon the libcamera-still utility, so make sure that is working first. | Print out a copy of the 7x10 square checker board included in that directory on a sheet of paper. Note that you want to print it to scale. Mount the checkerboard on a piece of cardboard or slip it into a binder so that you can easily hold it and it will stay flat. | When calibrating Flight camera, adding a bright incandescent light can provide additional IR light to help make the images clearer. Also, change the tuning file in the take_calibration_shots.sh script from: . | --tuning-file=/usr/share/libcamera/ipa/rpi/pisp/imx296.json to | --tuning-file=/usr/share/libcamera/ipa/rpi/vc4/imx296_noir.json (the _noir is only applicable for Flight camera) | . | When calibrating Tee camera, ensure the room is well lit. Turning on the LED strips on the LM often produces too much light and reflection. | To take the pictures, make sure your camera is focused at the distance of where the ball will be. It’s best to have the Pi console window visible so that you can see when to move the board and avoid blurs. | Next, we need a bunch of images of the checkerboard at about the distance we expect the golf ball to be imaged by the cameras. These images should include the board in the middle and nearer the edges of the images, and must each include all of the checkerboard, not just a part of it. | Sample setup . | . | Then, run the take_calibration_shots.sh script, specifying, for example, ./images/cam1 as the output directory. Twenty pictures is usually sufficient. | → mkdir images/cam2 for flight camera | → take_calibration_shots.sh ./images/cam2/gs_calibation_20` | . | The script will repeatedly pause and take a picture and save it to the output directory. Each time the script says “READY”, quickly move the checkerboard to a new location. Each move, try to rotate the board a little bit about the image plane so that it is in a different orientation each time. Also, try tilting the board a little forward and back randomly. This should result in a set of images that are named gs_calibrate_&lt;nn&gt;, where nn is an increasing number. The images should look like: | | Look through the images and delete any where the checkerboard is not fully visible. Partially-visible board can stall the next step of this process. | Now that the pictures are ready, run the python processing script on those pictures to come up with the matrices that will be necessary to setup the PiTrac configuration .json file. To run, do: . | First, edit the python script to point to the images just gathered, for example: . | images = glob.glob('./images/cam1/*.png') | . | → rm caliResult*.png (to remove any earlier calibration sanity-check files) | Pick an output image to use as a test case: . | cp images/cam2/gs_calibation_1.png test_image_for_undistortion.png | . | → python CameraCalibration.py | Alternatively, there is a Visual Studio .sln solution file that you can open up in Studio to step through the code if there is a problem. | . | After processing, there will be several files output to the current working directory. If you compare test_image_for_undistortion and caliResult2.png, you can see the before and after results of applying the computed un-distortion matrices. The un-distorted picture should have each checkerboard square look the same size and they should look square, not rounded. The lines of rows and columns should be straight in the undistorted image. caliResult1.png shows how the original image is “warped” to un-distort it | If that looks good, take the information in the files distortion.txt and cameraMatrix.txt and copy the values into the two parameters below (changing Camera2 (Flight camera) for Camera1 (Tee camera) if this is for Flight camera). These parameters are in the “cameras” subsection of golf_sim_config.json: . \"kCamera1CalibrationMatrix\": [ [ 1.748506644661262953e+03, 0.000000000000000000e+00, 6.325374407393054526e+02 ], [ 0.000000000000000000e+00, 1.743341748687922745e+03, 4.075677927449370941e+02 ], [ 0.000000000000000000e+00, 0.000000000000000000e+00, 1.000000000000000000e+00 ]], . \"kCamera1DistortionVector\": [ -0.504763 0.173410 0.001554 0.000916 0.355220 ], . | Do the same for Tee camera and Flight camera | . ",
    "url": "/camera/camera_calibration_undistortion_process.html#camera-lens-undistortion-process",
    
    "relUrl": "/camera/camera_calibration_undistortion_process.html#camera-lens-undistortion-process"
  },"16": {
    "doc": "Camera Lens Undistortion Process",
    "title": "Camera Lens Undistortion Process",
    "content": " ",
    "url": "/camera/camera_calibration_undistortion_process.html",
    
    "relUrl": "/camera/camera_calibration_undistortion_process.html"
  },"17": {
    "doc": "Cameras",
    "title": "Cameras",
    "content": "Camera Parent page.. ",
    "url": "/camera/cameras.html",
    
    "relUrl": "/camera/cameras.html"
  },"18": {
    "doc": "Home",
    "title": "Home",
    "content": "PiTrac - The DIY Golf Launch Monitor . | As seen on Hackaday | Also on Reddit | . The PiTrac project is a fully-functional golf launch monitor that avoids the need for expensive high shutter-speed and high frame-rate cameras. We’ve developed techniques for high-speed, infrared, strobe-based image capture and processing using cameras such as the Pi Global Shutter camera (~US$50 retail) and Raspberry Pi single board computers. PiTrac determines ball speed, launch angles, and spin in 3 axes. Its output is accessible on a stand-alone web app. Interfaces to popular golf-course simulators including GsPro and E6 are working. 2k/TopGolf never responded to our requests. Introduction to PiTrac's Enclosure &nbsp; . ",
    "url": "/",
    
    "relUrl": "/"
  },"19": {
    "doc": "Terminology",
    "title": "Terminology",
    "content": "Terminology . | Device | Description | Notes | . | Flight Camera | This is the modified camera that will be installed on the first floor of the enclosure. Bottom camera. | - This camera is attached to Core Pi. - Previously known as camera 2. In scripts, may be referred as such. | . | Tee Camera (As in, Tee off) | This is an unmodified camera that will be installed on the top floor of the enclosure. Top camera | - This camera is attached to Tee Pi. - Previously known as camera 1. In scripts, may be referred as such. | . | Tee Pi | This Raspberry Pi that is used for the shared directory--Samba Server. It is recommended that you use a faster Pi (e.g. Pi5) for this Pi. Installed on the top floor of the enclosure. | - Connected to the Tee Camera (The top floor Camera). | . | Flight Pi | Flight Pi - used for messaging running ActiveMQ and Apache Tomee. Installed on the bottom floor of the enclosure. | - Connected to the Flight camera (the modified camera). | . PiTrac . Diagram . ",
    "url": "/terminology.html",
    
    "relUrl": "/terminology.html"
  },"20": {
    "doc": "About this Document",
    "title": "About this Document",
    "content": "About this Document . To contribute to this documentation, please visit Github Pitrac . To quickly test your documentation locally, please take the following steps: . | Become familiar with just-the-docs project just-the-docs . | Install Ruby with Ruby Installer | Install jekyll and bundler gem install jekyll bundler | Install required libraries bundler install | Serve the page bundle exec jekyll serve --livereload | Visit the local page http://localhost:4000 | . | Run locally, which is also documented in the above point: bundle exec jekyll serve. Of course I am simplifying as you need to install bundler. You also need to install and configure jekyll . | View how this project inside docs is configured to get an understanding of the documentation pattern. | Finally to deploy. Create your peer-review (PR) request. Github Action workflows will automatically deploy your changes once your PR is merged. This may take about 5-8 minutes to appear. Then simply refresh. | . ",
    "url": "/thisdoc.html",
    
    "relUrl": "/thisdoc.html"
  }
}
