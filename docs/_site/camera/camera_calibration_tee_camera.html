<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Tee Camera (top) | PiTrac</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Tee Camera (top)" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for PiTrac" /> <meta property="og:description" content="Documentation for PiTrac" /> <meta property="og:site_name" content="PiTrac" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Tee Camera (top)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation for PiTrac","headline":"Tee Camera (top)","url":"/camera/camera_calibration_tee_camera.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> PiTrac </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Home category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/" class="nav-list-link">Home</a><ul class="nav-list"><li class="nav-list-item"><a href="/thisdoc.html" class="nav-list-link">About this Document</a></li><li class="nav-list-item"><a href="/terminology.html" class="nav-list-link">Terminology</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Cameras category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/cameras.html" class="nav-list-link">Cameras</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Calibration category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration.html" class="nav-list-link">Calibration</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_initial_setup.html" class="nav-list-link">Initial Setup</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tee Camera (top) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration_tee_camera.html" class="nav-list-link">Tee Camera (top)</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_tee_camera_focal.html" class="nav-list-link">Determine the cameras focal length</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Flight Camera (bottom) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration_flight_camera.html" class="nav-list-link">Flight Camera (bottom)</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_flight_camera_CCFL.html" class="nav-list-link">Calibrate Focal Point Length</a></li><li class="nav-list-item"><a href="/camera/camera_calibration_flight_camera_calibration.html" class="nav-list-link">Camera Calibration Confirmation</a></li></ul></li><li class="nav-list-item"><a href="/camera/camera_calibration_undistortion_process.html" class="nav-list-link">Camera Lens Undistortion Process</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 3D Print category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/3dprint/3dprint.html" class="nav-list-link">3D Print</a><ul class="nav-list"><li class="nav-list-item"><a href="/3dprint/3dprint_base_layer_piside_floor.html" class="nav-list-link">3d Print Base Layer Pi Side Floor</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PiTrac" aria-label="Search PiTrac" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/jamespilgrim/PiTrac/tree/main/docs" class="site-button" > Edit Me </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/camera/cameras.html">Cameras</a></li> <li class="breadcrumb-nav-list-item"><a href="/camera/camera_calibration.html">Calibration</a></li> <li class="breadcrumb-nav-list-item"><span>Tee Camera (top)</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h2 id="tee-camera-top-camera"> <a href="#tee-camera-top-camera" class="anchor-heading" aria-labelledby="tee-camera-top-camera"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tee Camera (Top Camera) </h2> <p>Tee camera distances and angles (also referenced by and relevant for Flight camera process)</p> <ol> <li>Only for Tee camera, plug in the exterior LED strip at the bottom of the launch monitor. For these calibration steps, the more light the better.</li> <li>Start the <code class="language-plaintext highlighter-rouge">previewGS.sh</code> script (which runs libcamera.hello) for Tee camera, or <code class="language-plaintext highlighter-rouge">previewGS_noir.sh</code> script for Flight camera. This will allow you to see the marker in real time as the camera is positioned and focused.</li> <li>Pick an appropriate nominal tee-up spot to use as the calibration marker point for flight camera. The exact placement is not important, but positioning the ball near where it will be teed should help make the calibration more accurate. <ol> <li>Typical is <code class="language-plaintext highlighter-rouge">60cm</code> to the right and around <code class="language-plaintext highlighter-rouge">50-60cm</code> in front of the LM (looking at the LM from where the player would stand, looking down into its cameras). Other distances can work as well, but the balance is between being close enough to get a good view of the ball, and far enough that the field of view is sufficiently broad to capture enough (at least 4) image imprints as the strobe light fires.</li> </ol> </li> <li>Use a tape measure to accurately determine the position from the front-center of the LM to the point where the ball will be expected to be teed up as follows: <ol> <li>Note - The ball will likely be right in front of Flight camera (and a <code class="language-plaintext highlighter-rouge">10-20cm</code> in the air), but for Tee camera, it will be a couple feet to the right and on the ground.</li> <li>Further back (to the right of the LM for right-handed golfers) gives more time for the LM to “see” a fast ball in the Flight camera before it goes too far. The LM should be able to operate regardless of exactly where the marker point is, but a point close to the typical tee-off makes the calibration in that area more accurate.</li> <li>Place a marker (e.g., a sticky-note with a <code class="language-plaintext highlighter-rouge">3mm</code> dot or crosshair) at the point on the ground where the nominal tee point will be. If you are calibrating on a hitting mat. A short bit of wire insulation pushed into the hitting mat works well, too. The point just has to be well enough marked to be able to see it in the center of the preview screen.</li> <li>Tee camera Example Setup: <ul> <li><img src="../assets/images/camera/image7.jpg" alt="" /></li> </ul> </li> </ol> </li> <li>Loosen and then move the camera mount until the preview screen on the monitor shows the marker dot directly behind the taped-on dot on the monitor. The idea is to center the marker in the camera view so that the camera is known to be aimed directly at the spot. Continue to keep the point centered as you tighten the gimbal screws (a small 90-degree M4 hex wrench makes this easier). <ol> <li><strong>NOTE</strong> - Sometimes the mount is sticky and only wants to point to a particular point near, but not at the marker. In that case, let the camera do what it wants to do, and just re-measure where the point is (it might be a few millimeters one way or the other), and then use those measurements, below.</li> <li>When tightening the base of the Pi for Tee camera (top floor), you may have to loosen and move the strobe light that is immediately below the camera to get room to use a needle-nose pliers to tighten the bold.</li> </ol> </li> <li>Measure the following distances from the camera being calibrated to the marker. <strong>NOTE</strong> these values have slightly different definitions for Flight camera. Reference that process elsewhere in this document when calibrating that camera. <ol> <li>Refer to the following diagram regarding the necessary calibration measurements for Tee camera:</li> <li><img src="../assets/images/camera/image8.png" alt="" /></li> <li>X is distance to the right of the LM (facing the LM as a right-handed golfer) to the marker point <ol> <li><code class="language-plaintext highlighter-rouge">X = .60</code> (typical) (distances here are in meters)</li> <li>For Flight camera, the X should reflect the effective X-axis difference between the two cameras (because Tee camera is twisted to one side from center). So, even if the Flight camera is centered, it’s X is likely to be 3 or 4 cm.</li> <li>The “Origin” referenced in the .json file (e.g., <code class="language-plaintext highlighter-rouge">kCamera1PositionsFromOriginMeters</code> is technically arbitrary, but this system considers it as the point on the floor directly below where the Tee camera (or Flight camera) is focused.</li> </ol> </li> <li>Y is the distance from the middle of the Tee camera lens to the level of the hitting mat (for Tee camera) or the aiming point (for Flight camera). <ol> <li><code class="language-plaintext highlighter-rouge">Y = .275</code> (typical)</li> </ol> </li> <li>Z is the distance straight out from the front of the LM unit to the plane of the marker <ol> <li><code class="language-plaintext highlighter-rouge">Z = .56</code></li> </ol> </li> <li>R is the distance from the point on the floor directly below the front center of the camera lens to the marker point on the floor (see diagram above). This is one side of a triangle, with the other two sides being the line from the camera to the point on the floor, and the third side as “H”, below. <ol> <li><code class="language-plaintext highlighter-rouge">R = .83</code></li> <li>NOTE - because of the tilt angle of Tee camera, the point on the floor will technically be hidden below the base of the LM. Usually, we just measure from the edge of the base and add the additional couple of centimeters to make up for the offset. For the same reason, the X distance on the floor for that camera will be a few centimeters less than the same point would be for Flight camera</li> </ol> </li> <li>H is the distance from the camera lens direct (as the crow flies) to the marker point <ol> <li><code class="language-plaintext highlighter-rouge">H = .87</code></li> </ol> </li> <li>Set the X, Y and Z values in the configuration .JSON file: (below values are typical) <ol> <li>(in “cameras” section) <code class="language-plaintext highlighter-rouge">"kCamera1PositionsFromOriginMeters": [ &lt;X&gt;, &lt;Y&gt;, &lt;Z&gt; ]</code> for example, <code class="language-plaintext highlighter-rouge">[0.60, 0.275, 0.56 ]</code>, (x,y and z in cm), and</li> <li><code class="language-plaintext highlighter-rouge">"kCamera1Angles": [ &lt;XDeg&gt;, &lt;YDeg&gt; ]</code>, for example, <code class="language-plaintext highlighter-rouge">[46.97, -17.44]</code> (from spreadsheet)</li> </ol> </li> </ol> </li> </ol><hr /> <hr> <h2 class="text-delta">Table of contents</h2> <ul> <li> <a href="/camera/camera_calibration_tee_camera_focal.html">Determine the cameras focal length</a> </li> </ul> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
