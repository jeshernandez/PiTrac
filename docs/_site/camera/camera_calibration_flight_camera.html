<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > ul > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Flight Camera (bottom) | PiTrac</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Flight Camera (bottom)" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for PiTrac" /> <meta property="og:description" content="Documentation for PiTrac" /> <meta property="og:site_name" content="PiTrac" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Flight Camera (bottom)" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation for PiTrac","headline":"Flight Camera (bottom)","url":"/camera/camera_calibration_flight_camera.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> PiTrac </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Home category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/" class="nav-list-link">Home</a><ul class="nav-list"><li class="nav-list-item"><a href="/thisdoc.html" class="nav-list-link">About this Document</a></li><li class="nav-list-item"><a href="/terminology.html" class="nav-list-link">Terminology</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Cameras category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/cameras.html" class="nav-list-link">Cameras</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Calibration category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration.html" class="nav-list-link">Calibration</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_initial_setup.html" class="nav-list-link">Initial Setup</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tee Camera (top) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration_tee_camera.html" class="nav-list-link">Tee Camera (top)</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_tee_camera_focal.html" class="nav-list-link">Determine the cameras focal length</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Flight Camera (bottom) category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/camera/camera_calibration_flight_camera.html" class="nav-list-link">Flight Camera (bottom)</a><ul class="nav-list"><li class="nav-list-item"><a href="/camera/camera_calibration_flight_camera_CCFL.html" class="nav-list-link">Calibrate Focal Point Length</a></li><li class="nav-list-item"><a href="/camera/camera_calibration_flight_camera_calibration.html" class="nav-list-link">Camera Calibration Confirmation</a></li></ul></li><li class="nav-list-item"><a href="/camera/camera_calibration_undistortion_process.html" class="nav-list-link">Camera Lens Undistortion Process</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 3D Print category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/3dprint/3dprint.html" class="nav-list-link">3D Print</a><ul class="nav-list"><li class="nav-list-item"><a href="/3dprint/3dprint_base_layer_piside_floor.html" class="nav-list-link">3d Print Base Layer Pi Side Floor</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PiTrac" aria-label="Search PiTrac" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/jamespilgrim/PiTrac/tree/main/docs" class="site-button" > Edit Me </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/camera/cameras.html">Cameras</a></li> <li class="breadcrumb-nav-list-item"><a href="/camera/camera_calibration.html">Calibration</a></li> <li class="breadcrumb-nav-list-item"><span>Flight Camera (bottom)</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h2 id="flight-camera"> <a href="#flight-camera" class="anchor-heading" aria-labelledby="flight-camera"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Flight Camera </h2> <ol> <li>Note Flight Camera (bottom camera) closely follows the Tee Camera (Top Camera) calibration</li> <li>Lens Un-Distortion</li> <li>Measuring Distances and Angles <ol> <li>Remove the visible-light cut (long pass) filter from the front of the camera for now. It’s easier to calibrate the camera in the visible light spectrum.</li> <li>Ensure that the triggering for the camera is not in external mode (where it usually will be when the Flight camera system is running). <ul> <li>If necessary, do: <code class="language-plaintext highlighter-rouge">sudo /CameraTools/setCameraTriggerInternal.sh</code></li> </ul> </li> <li>Set up a marker point (such as a cross hairs) on a piece of paper attached to an object or stand so that the point is about 15 cm above the ground and roughly centered in the view of the camera with the camera at a slight upward tilt and facing straight out. The point should be a shape that will be crisp, sharp, and useful for focusing the camera.</li> <li>Follow the instructions for Tee Camera (read that first), below, but use the following modifications when recording the various measurements:</li> <li><img src="../assets/images/camera/image6.png" alt="" /></li> <li>Flight Camera Measurements (values are typical/exemplary)</li> <li>-X (the negative value of X) is the distance to the left (looking at the monitor) from the point on the floor directly under the center of <em>Flight camera</em> (facing the LM as a right-handed golfer) to the marker dot. <strong><em>It’s usually 0</em></strong> because the point will be centered (horizontally) in the camera’s view. Because this is relative to the OTHER camera, X will usually effectively be <code class="language-plaintext highlighter-rouge">~-3</code> or <code class="language-plaintext highlighter-rouge">–4</code> centimeters away from the other camera because the Tee camera is offset because it is twisted. <ol> <li>This will be made up later when we set the <code class="language-plaintext highlighter-rouge">"kCamera2OffsetFromCamera1OriginMeters" parameter: [ **0.03**, -0.19, 0.0 ],</code></li> <li><code class="language-plaintext highlighter-rouge">X = 0.0</code> (typical)</li> </ol> </li> <li>Y is the distance from the center of the Flight camera lens to the level of the hitting mat (for Tee camera) <ol> <li><code class="language-plaintext highlighter-rouge">Y = .109</code> (typical)</li> </ol> </li> <li>Z is the distance <strong><em>straight out horizontally-level</em></strong> from the front of the lens to the vertical plane of the marker. This measurement is <strong><em>not</em></strong> “as the crow flies” in a straight line from the lens to the marker point. See pictures. The front of the camera lens is <code class="language-plaintext highlighter-rouge">~1cm</code> back from the bottom of the base, which may be helpful if you are measuring from the bottom of the base. <ol> <li><code class="language-plaintext highlighter-rouge">Z = .55</code> (typical)</li> </ol> </li> <li>E1 is the elevation from the floor or mat to the marker point in the air. Somewhat above the Y value. <ol> <li><code class="language-plaintext highlighter-rouge">E1 = 0.16</code></li> </ol> </li> <li>E2 is the elevation from Flight camera to the marker point in the air. E2 will be entered into the PiTrac JSON configuration file as the 2nd parameter for e.g., <code class="language-plaintext highlighter-rouge">"kCamera2PositionsFromOriginMeters": [ 0.0, **-0.051,** 0.46 ]</code> <ol> <li><code class="language-plaintext highlighter-rouge">E2 = E1 - Y = 0.051</code>.</li> <li>This will help calculate the YDeg angle. However, because of measurement inaccuracy, it may still be necessary to manually adjust that angle. [TBD]</li> </ol> </li> <li>H is the distance from the camera lens directly (as the crow flies) to the marker point. <ol> <li><code class="language-plaintext highlighter-rouge">H = .56</code></li> </ol> </li> <li>In the Calibration Spreadsheet, <code class="language-plaintext highlighter-rouge">X_Degrees</code> will normally be <code class="language-plaintext highlighter-rouge">0</code> (camera facing straight out). Conversely, <code class="language-plaintext highlighter-rouge">Y_Degrees = ATAN(E-Y)</code> and will usually be around <code class="language-plaintext highlighter-rouge">5</code> degrees (camera tilted slightly upward in order to catch fast-rising balls) (<code class="language-plaintext highlighter-rouge">5.3</code> degrees for the above example values)</li> <li>Otherwise, this process same as for Tee camera, but due to the (typical) either horizontal or up-facing camera, will have to create a marker-aiming spot in mid-air by drawing on a box or something that can be propped up in front of the Flight camera</li> <li>Enter the following data into the JSON file: <ol> <li><code class="language-plaintext highlighter-rouge">"calibration.kCamera2CalibrationDistanceToBall": &lt;Z&gt;</code> (e.g., 0.55)</li> <li><code class="language-plaintext highlighter-rouge">"cameras.kCamera2PositionsFromOriginMeters": [&lt;X&gt;, -&lt;E2&gt;, &lt;Z&gt; ]</code></li> <li><code class="language-plaintext highlighter-rouge">"kCamera2Angles": [ &lt;XDeg&gt;, &lt;YDeg, e.g. 6.3 degrees&gt; ]</code>, (from spreadsheet)</li> </ol> </li> </ol> </li> </ol><hr /> <hr> <h2 class="text-delta">Table of contents</h2> <ul> <li> <a href="/camera/camera_calibration_flight_camera_CCFL.html">Calibrate Focal Point Length</a> </li> <li> <a href="/camera/camera_calibration_flight_camera_calibration.html">Camera Calibration Confirmation</a> </li> </ul> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
